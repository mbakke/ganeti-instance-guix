ganeti-instance-guix
====================

Create Guix instances on Ganeti!

Usage:

$ gnt-instance add -o guix -O \
  "config=$(base64 /path/to/config.scm),branch=staging" [...]

Installation:

$ ./configure --with-os-dir=/srv/ganeti/os [...]
$ make && make install

Dependencies:

* Working Guix installation.
* util-linux
* qemu-img

How it works:

Essentially this is a fancy wrapper for "guix system vm-image".  If
"repo_uri", "branch" or "commit" is set, the repository will be
"pulled" before building the virtual machine.  Otherwise the current
Guix on the host will be used to provision the instance.

Limitations:

* Runs with elevated privileges on the host.
** Do not use this with untrusted configuration files!
